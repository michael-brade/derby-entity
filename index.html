<index:>
    <div class="{{@entity.id}}" id="{{entity.id}}">

        <div class="row table-responsive">
            <table class="table table-condensed table-hover col-md-6">
                <thead>
                    <tr>
                        {{each entity.attributes as #col}}
                            <th>{{t(entity.id + '.' + #col.id)}}</th>
                        {{/each}}
                        <th>{{t('actions')}}</th>
                    </tr>
                </thead>

                <tbody>
                    {{each _page.list as #item, #index}}
                        <tr class="{{if #item === _page.item}}active selected{{/}}" on-click="select(#item.id)">
                            {{each entity.attributes as #col}}
                                <td>{{#item[#col.id]}}</td>
                            {{/each}}
                            <td>
                                <span class="glyphicon glyphicon-remove" on-click="remove(#item.id)"></span>
                            </td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>


        <div class="row">
            {{if item}}
                <h3>
                    {{if item.id}}
                        {{t('actions.edit')}}
                    {{else}}
                        {{t('actions.add')}} {{t(entity.id)}}
                    {{/}}
                </h3>

                <form role="form" class="well form-inline" on-submit="add(this)">

                    {{each entity.attributes as #field}}
                        <div class="form-group">
                            {{if #field.type == "entity"}}
                                <d-select2 label="{{#field.id}}" items="{{items(entity.id + '.' + #field.id)}}" value="{{item[#field.id]}}"/>
                            {{else}}
                                <label for="{{#field.id}}" class="control-label">
                                    {{t(entity.id + "." + #field.id)}}
                                </label>
                                <input id="{{#field.id}}" class="form-control" type="{{#field.type}}" value="{{item[#field.id]}}">
                            {{/}}
                        </div>
                    {{/each}}

                    <div class="row">
                        <button type="submit" class="btn btn-default col-md-offset-10">
                            {{if item.id}}
                                {{t('actions.done')}}
                            {{else}}
                                {{t('actions.add')}}
                            {{/}}
                        </button>
                        {{unless _page.item.id}}
                            <button type="button" class="btn btn-link" on-click="cancel()">
                                {{t('actions.cancel')}}
                            </button>
                        {{/}}
                    </div>
                </form>
            {{else}}
                <a class="btn btn-lg btn-primary btn-default col-md-offset-10" href="{{pathFor(entity.id, 'new')}}" role="button">
                    {{t('actions.new')}}
                </a>
            {{/}}
        </div>

  </div>





<field: element="field">
  <div class="form-group col-md-6">
    <label for="{{@id}}" class="col-md-4 control-label">{{@label}}</label>
    <div class="col-md-8">
    {{if @content}}
      {{@content}}
    {{else}}
      <input id="{{@id}}" class="form-control" type="{{@type}}" value="{{@value}}">
    {{/if}}
    </div>
  </div>
